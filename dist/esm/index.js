import*as e from"react";var r=e.createContext({loader:null,rootMargin:"0px",threshold:1}),t=function(t){var n=t.children,l=t.loader,a=void 0===l?null:l;return e.createElement(r.Provider,{value:{loader:a}},n)},n=function(t){var n=t.children,l=t.height,a=void 0===l?15:l,o=e.useState(!1),i=o[0],u=o[1],c=e.useContext(r),s=c.loader,f=c.rootMargin,d=c.threshold,v=e.useRef(null);e.useEffect((function(){var e,r=function(){e&&v.current&&e.unobserve(v.current)};if(v.current)return(e=new IntersectionObserver((function(e){e[0].intersectionRatio<=0||(u(!0),r())}),{rootMargin:f,threshold:d})).observe(v.current),function(){r()}}),[v,f,d]);var h=Math.floor(a/26)||1;return i?e.createElement(e.Fragment,null,e.createElement("div",{ref:v}),e.createElement(e.Suspense,{fallback:s||e.createElement("ul",{className:"lazy-bastard-skeleton-loading"},Array(h).fill(null).map((function(r,t){return e.createElement("li",{key:t})})))},n)):e.createElement("div",{ref:v,style:{height:a}})};export{n as LazyBastard,t as LazyBastardProvider};
