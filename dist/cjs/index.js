"use strict";function e(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),n=t.createContext({loader:null,root:void 0,rootMargin:"0px",threshold:1}),r=[],a=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,o=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,l="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var d=r.indexOf(l);-1===d&&(d=r.push(l)-1,a[d]={}),n=a[d]&&a[d][o]?a[d][o]:a[d][o]=s()}else n=s();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),r=0;r<n.length;r++)e.setAttribute(n[r],t.attributes[n[r]]);var a="prepend"===o?"afterbegin":"beforeend";return l.insertAdjacentElement(a,e),e}}("@keyframes lazy-bastard-skeleton-loading {\n  0% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0 50%;\n  }\n}\n\n.lazy-bastard-skeleton-loading {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.lazy-bastard-skeleton-loading li {\n  margin: 0;\n  padding: 0;\n  animation: lazy-bastard-skeleton-loading 1.4s infinite;\n  background-image: linear-gradient(\n    90deg,\n    rgba(190, 190, 190, 0.2) 25%,\n    rgba(255, 255, 255, 0.16) 37%,\n    rgba(190, 190, 190, 0.2) 63%\n  );\n  background-size: 400% 100%;\n  border-radius: 4px;\n  height: 16px;\n  width: 100%;\n}\n\n.lazy-bastard-skeleton-loading li:not(:last-child) {\n  margin-bottom: 10px;\n}\n\n.lazy-bastard-skeleton-loading\n  li:last-child:not(:first-child):not(:nth-child(2)) {\n  width: 61%;\n}\n",{});exports.LazyBastard=function(e){var r=e.children,a=e.height,o=void 0===a?15:a,i=t.useState(!1),l=i[0],d=i[1],s=t.useContext(n),c=s.loader,u=s.root,f=s.rootMargin,g=s.threshold,b=t.useRef(null);t.useEffect((function(){var e,t=function(){e&&b.current&&e.unobserve(b.current)};if(b.current)return(e=new IntersectionObserver((function(e){e[0].intersectionRatio<=0||(d(!0),t())}),{root:u,rootMargin:f,threshold:g})).observe(b.current),function(){t()}}),[b,f,g]);var h=Math.floor(o/26)||1;return l?t.createElement(t.Fragment,null,t.createElement("div",{ref:b}),t.createElement(t.Suspense,{fallback:c||t.createElement("ul",{className:"lazy-bastard-skeleton-loading"},Array(h).fill(null).map((function(e,n){return t.createElement("li",{key:n})})))},r)):t.createElement("div",{ref:b})},exports.LazyBastardProvider=function(e){var r=e.children,a=e.loader,o=void 0===a?null:a,i=e.root,l=e.rootMargin,d=e.threshold;return t.createElement(n.Provider,{value:{loader:o,root:i,rootMargin:l,threshold:d}},r)},exports.LazyContext=n;
