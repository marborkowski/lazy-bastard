"use strict";function e(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("react")),t=r.createContext({loader:null,rootMargin:"0px",threshold:1});exports.LazyBastard=function(e){var n=e.children,a=e.height,o=void 0===a?15:a,l=r.useState(!1),u=l[0],c=l[1],i=r.useContext(t),s=i.loader,f=i.rootMargin,d=i.threshold,v=r.useRef(null);r.useEffect((function(){var e,r=function(){e&&v.current&&e.unobserve(v.current)};if(v.current)return(e=new IntersectionObserver((function(e){e[0].intersectionRatio<=0||(c(!0),r())}),{rootMargin:f,threshold:d})).observe(v.current),function(){r()}}),[v,f,d]);var h=Math.floor(o/26)||1;return u?r.createElement(r.Fragment,null,r.createElement("div",{ref:v}),r.createElement(r.Suspense,{fallback:s||r.createElement("ul",{className:"lazy-bastard-skeleton-loading"},Array(h).fill(null).map((function(e,t){return r.createElement("li",{key:t})})))},n)):r.createElement("div",{ref:v,style:{height:o}})},exports.LazyBastardProvider=function(e){var n=e.children,a=e.loader,o=void 0===a?null:a;return r.createElement(t.Provider,{value:{loader:o}},n)};
